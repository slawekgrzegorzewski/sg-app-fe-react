query GetFinanceManagement {
    financeManagement {
        supportedCurrencies {
            code
            description
        }
        accounts {
            publicId
            order
            name
            currentBalance {
                amount
                currency {
                    code
                    description
                }
            }
            creditLimit {
                amount
                currency {
                    code
                    description
                }
            }
            balanceIndex
            visible
            bankAccount {
                publicId
                iban
            }
            domain {
                publicId
                name
            }
        }
        billingCategories {
            publicId
            name
            description
            domain {
                publicId
                name
            }
        }
        piggyBanks {
            publicId
            name
            description
            balance {
                amount
                currency {
                    code
                    description
                }
            }
            monthlyTopUp {
                amount
                currency {
                    code
                    description
                }
            }
            savings
            domain {
                publicId
                name
            }
        }
    }
}

query BillingPeriodQuery($yearMonth: YearMonth){
    billingPeriod(yearMonth: $yearMonth){
        billingPeriod {
            publicId
            name
            period
            incomes {
                publicId
                description
                amount
                currency
                category {
                    name
                    description
                }
                date
            }
            expenses {
                publicId
                description
                amount
                currency
                category {
                    name
                    description
                }
                date
            }
            monthSummary {
                savings {
                    amount
                    currency
                }
                accounts {
                    publicId
                    name
                    currency
                    currentBalance
                    lastTransactionIdIncludedInBalance
                }
                piggyBanks {
                    name
                    description
                    balance
                    currency
                    savings
                    monthlyTopUp
                }
            }
        }
        creationBlockers {
            alreadyExists
            notForCurrentMonth
            unfinishedBillingPeriods
        }
    }
}

mutation CreateBillingPeriod($yearMonth: YearMonth!){
    createBillingPeriod(yearMonth: $yearMonth){
        publicId
        name
        period
        incomes {
            publicId
            description
            amount
            currency
            category {
                name
                description
            }
            date
        }
        expenses {
            publicId
            description
            amount
            currency
            category {
                name
                description
            }
            date
        }
        monthSummary {
            savings {
                amount
                currency
            }
            accounts {
                publicId
                name
                currency
                currentBalance
                lastTransactionIdIncludedInBalance
            }
            piggyBanks {
                name
                description
                balance
                currency
                savings
                monthlyTopUp
            }
        }
    }
}

mutation FinishBillingPeriod($yearMonth: YearMonth!){
    finishBillingPeriod(yearMonth: $yearMonth)
}

mutation CreateIncome( $accountPublicId: UUID!, $description:String!, $amount:BigDecimal!, $currency:Currency!, $categoryPublicId:UUID!, $date:LocalDate!,$piggyBankPublicId: UUID){
    createIncome(createIncomeInput: {
        accountPublicId: $accountPublicId,
        description: $description,
        amount: $amount,
        currency: $currency,
        categoryPublicId: $categoryPublicId,
        date: $date,
        piggyBankPublicId: $piggyBankPublicId}
    )
}